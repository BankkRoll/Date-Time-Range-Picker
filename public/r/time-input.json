{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "time-input",
  "type": "registry:component",
  "title": "Time Input",
  "description": "A component for inputting time with hours, minutes, and AM/PM.",
  "dependencies": [
    "lucide-react"
  ],
  "registryDependencies": [
    "input",
    "button"
  ],
  "files": [
    {
      "path": "registry/default/date-time-range-picker/time-input.tsx",
      "content": "\"use client\";\r\n\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { cn } from \"@/lib/utils\";\r\nimport { ChevronDown, ChevronUp } from \"lucide-react\";\r\nimport * as React from \"react\";\r\n\r\ninterface TimeInputProps {\r\n  value?: Date;\r\n  onChange: (date: Date) => void;\r\n  disabled?: boolean;\r\n  className?: string;\r\n}\r\n\r\ninterface TimeParts {\r\n  hours: number;\r\n  minutes: number;\r\n  ampm: \"AM\" | \"PM\";\r\n}\r\n\r\nexport const TimeInput: React.FC<TimeInputProps> = ({\r\n  value,\r\n  onChange,\r\n  disabled = false,\r\n  className,\r\n}) => {\r\n  const [time, setTime] = React.useState<TimeParts>(() => {\r\n    const d = value ? new Date(value) : new Date();\r\n    const hours = d.getHours();\r\n    return {\r\n      hours: hours % 12 === 0 ? 12 : hours % 12,\r\n      minutes: d.getMinutes(),\r\n      ampm: hours >= 12 ? \"PM\" : \"AM\",\r\n    };\r\n  });\r\n\r\n  const hoursRef = React.useRef<HTMLInputElement | null>(null);\r\n  const minutesRef = React.useRef<HTMLInputElement | null>(null);\r\n\r\n  React.useEffect(() => {\r\n    if (value) {\r\n      const d = new Date(value);\r\n      const hours = d.getHours();\r\n      setTime({\r\n        hours: hours % 12 === 0 ? 12 : hours % 12,\r\n        minutes: d.getMinutes(),\r\n        ampm: hours >= 12 ? \"PM\" : \"AM\",\r\n      });\r\n    }\r\n  }, [value]);\r\n\r\n  const updateTime = (newTime: TimeParts) => {\r\n    if (disabled) return;\r\n\r\n    const currentDate = value ? new Date(value) : new Date();\r\n    const hours =\r\n      newTime.ampm === \"PM\" && newTime.hours !== 12\r\n        ? newTime.hours + 12\r\n        : newTime.ampm === \"AM\" && newTime.hours === 12\r\n          ? 0\r\n          : newTime.hours;\r\n\r\n    currentDate.setHours(hours);\r\n    currentDate.setMinutes(newTime.minutes);\r\n    currentDate.setSeconds(0);\r\n\r\n    onChange(currentDate);\r\n    setTime(newTime);\r\n  };\r\n\r\n  const handleInputChange =\r\n    (field: keyof TimeParts) => (e: React.ChangeEvent<HTMLInputElement>) => {\r\n      if (disabled) return;\r\n\r\n      const value = e.target.value.replace(/\\D/g, \"\");\r\n      if (!value) return;\r\n\r\n      const numValue = Number.parseInt(value, 10);\r\n\r\n      let newValue: number | string = numValue;\r\n      if (field === \"hours\") {\r\n        if (numValue < 1) newValue = 1;\r\n        else if (numValue > 12) newValue = 12;\r\n      } else if (field === \"minutes\") {\r\n        if (numValue < 0) newValue = 0;\r\n        else if (numValue > 59) newValue = 59;\r\n      }\r\n\r\n      updateTime({ ...time, [field]: newValue });\r\n    };\r\n\r\n  const handleAmPmToggle = () => {\r\n    if (disabled) return;\r\n    updateTime({ ...time, ampm: time.ampm === \"AM\" ? \"PM\" : \"AM\" });\r\n  };\r\n\r\n  const incrementHours = () => {\r\n    if (disabled) return;\r\n    const newHours = time.hours === 12 ? 1 : time.hours + 1;\r\n    updateTime({ ...time, hours: newHours });\r\n  };\r\n\r\n  const decrementHours = () => {\r\n    if (disabled) return;\r\n    const newHours = time.hours === 1 ? 12 : time.hours - 1;\r\n    updateTime({ ...time, hours: newHours });\r\n  };\r\n\r\n  const incrementMinutes = () => {\r\n    if (disabled) return;\r\n    const newMinutes = (time.minutes + 1) % 60;\r\n    updateTime({ ...time, minutes: newMinutes });\r\n  };\r\n\r\n  const decrementMinutes = () => {\r\n    if (disabled) return;\r\n    const newMinutes = (time.minutes - 1 + 60) % 60;\r\n    updateTime({ ...time, minutes: newMinutes });\r\n  };\r\n\r\n  const formatTimeValue = (value: number): string => {\r\n    return value.toString().padStart(2, \"0\");\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className={cn(\r\n        \"flex items-center space-x-1 rounded-md border p-1\",\r\n        className,\r\n      )}\r\n    >\r\n      <div className=\"flex flex-col\">\r\n        <Button\r\n          type=\"button\"\r\n          variant=\"ghost\"\r\n          size=\"icon\"\r\n          className=\"h-5 w-5\"\r\n          onClick={incrementHours}\r\n          disabled={disabled}\r\n        >\r\n          <ChevronUp className=\"h-3 w-3\" />\r\n        </Button>\r\n        <Input\r\n          ref={hoursRef}\r\n          type=\"text\"\r\n          inputMode=\"numeric\"\r\n          value={formatTimeValue(time.hours)}\r\n          onChange={handleInputChange(\"hours\")}\r\n          className=\"w-7 border-0 text-center focus:outline-none focus:ring-0 p-0 disabled:opacity-50\"\r\n          disabled={disabled}\r\n        />\r\n        <Button\r\n          type=\"button\"\r\n          variant=\"ghost\"\r\n          size=\"icon\"\r\n          className=\"h-5 w-5\"\r\n          onClick={decrementHours}\r\n          disabled={disabled}\r\n        >\r\n          <ChevronDown className=\"h-3 w-3\" />\r\n        </Button>\r\n      </div>\r\n      <span className=\"text-sm font-medium\">:</span>\r\n      <div className=\"flex flex-col\">\r\n        <Button\r\n          type=\"button\"\r\n          variant=\"ghost\"\r\n          size=\"icon\"\r\n          className=\"h-5 w-5\"\r\n          onClick={incrementMinutes}\r\n          disabled={disabled}\r\n        >\r\n          <ChevronUp className=\"h-3 w-3\" />\r\n        </Button>\r\n        <Input\r\n          ref={minutesRef}\r\n          type=\"text\"\r\n          inputMode=\"numeric\"\r\n          value={formatTimeValue(time.minutes)}\r\n          onChange={handleInputChange(\"minutes\")}\r\n          className=\"w-7 border-0 text-center focus:outline-none focus:ring-0 p-0 disabled:opacity-50\"\r\n          disabled={disabled}\r\n        />\r\n        <Button\r\n          type=\"button\"\r\n          variant=\"ghost\"\r\n          size=\"icon\"\r\n          className=\"h-5 w-5\"\r\n          onClick={decrementMinutes}\r\n          disabled={disabled}\r\n        >\r\n          <ChevronDown className=\"h-3 w-3\" />\r\n        </Button>\r\n      </div>\r\n      <Button\r\n        type=\"button\"\r\n        variant=\"outline\"\r\n        size=\"sm\"\r\n        className=\"text-xs px-2 h-8\"\r\n        onClick={handleAmPmToggle}\r\n        disabled={disabled}\r\n      >\r\n        {time.ampm}\r\n      </Button>\r\n    </div>\r\n  );\r\n};\r\n\r\nTimeInput.displayName = \"TimeInput\";\r\n",
      "type": "registry:component"
    }
  ]
}